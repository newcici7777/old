<!DOCTYPE HTML>
<html lang="en" >
    <head>
<meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>app update </title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="Cici's old notebook."><meta name="keywords" content="android, app update" /><meta name="seo" content="no seo" /><link rel="stylesheet" href="/assets/gitbook/style.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="/assets/gitbook/gitbook-plugin-splitter/splitter.css">

<link rel="stylesheet" href="/assets/gitbook/rouge/base16.css">

<link rel="stylesheet" href="/assets/gitbook/custom.css">
<link rel="stylesheet" href="/assets/gitbook/custom-local.css">
<meta name="google-site-verification" content="65zgvtfJFNDdKge0tDpfLKShsOrANSZ0hsdp1prfxzs" />
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/" type="image/x-icon">

<link rel="stylesheet" href="/assets/custom_css/code1.css"><link rel="stylesheet" href="/assets/custom_css/native.css"></head>
    <body>
        <div class="book">
            
            <div class="book-summary">
    <nav role="navigation">
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="/assets/search.html">Click to Search</a>
        </div>
        <ul class="summary">
            <li class="chapter active" data-level="1.1" data-path="" data-nav-item>
                <a href="http://localhost:4000" data-nav-link>
                    old
                </a>
            </li>
            <li class="divider"></li>
            <!-- path =  -->
            
            
	
	
	<li class="chapter" data-level="1.1" data-path="http://localhost:4000" data-nav-item><a href="#" data-nav-link> Android </a><ul>
	
	
	<li class="chapter" data-level="1.2" data-path="http://localhost:4000" data-nav-item><a href="#" data-nav-link> thread </a><ul>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/android_thread/" data-nav-link> Android thread</a>
        </li></ul></li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/kdoc/" data-nav-link> kdoc</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/adb/" data-nav-link> ADB</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/intellij_coroutine/" data-nav-link> Intellij 安裝Coroutine</a>
        </li>
	
	
	<li class="chapter" data-level="1.2" data-path="http://localhost:4000" data-nav-item><a href="#" data-nav-link> 舊的技術 </a><ul>
	
	
	<li class="active" data-nav-item>
    	<a href="/pages/android/old/app_update/" data-nav-link> app update</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/old/google_sign_in/" data-nav-link> Google Sign-In</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/old/app_purchase/" data-nav-link> In App Purchase Flow</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/old/theme_change/" data-nav-link> Theme Change</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/old/chrome_tabs/" data-nav-link> Chrome Custom Tabs</a>
        </li>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/old/momery_leak/" data-nav-link> Handle Memory Leak</a>
        </li></ul></li>
	
	
	<li class="chapter" data-level="1.2" data-path="http://localhost:4000" data-nav-item><a href="#" data-nav-link> error </a><ul>
	
	
	<li class="" data-nav-item>
    	<a href="/pages/android/kapt_err/" data-nav-link> kaptGenerateStubsDebugKotlin task (current target is 17) jvm target</a>
        </li></ul></li></ul></li></ul>
    </nav>
</div>
            <div class="book-body">
                <div class="book-header" role="navigation">
                    <!-- Title -->
                    <h1>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                        
                            <a href="." >app update</a>
                        
                    </h1>
                </div>

                <div class="body-inner"><div class="page-wrapper" tabindex="-1" role="main">
    

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    
                        <h1 id="/pages/android/old/app_update">app update</h1>
                    

                    <p><img src="/assets/img/android/old/app_update1.png" alt="img" />
<img src="/assets/img/android/old/app_update2.png" alt="img" />
更新的過程
下載
<img src="/assets/img/android/old/app_update3.png" alt="img" />
安裝
<img src="/assets/img/android/old/app_update4.png" alt="img" />
<img src="/assets/img/android/old/app_update5.png" alt="img" />
<img src="/assets/img/android/old/app_update6.png" alt="img" /></p>

<p>在Gradle放上</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// in app update
implementation 'com.google.android.play:core:1.6.3’
</code></pre></div></div>
<p>1.使用AppUpdateManager檢查是否有新版本可以更新</p>

<figure class="highlight">
  <pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="kd">private</span> <span class="nc">AppUpdateManager</span> <span class="n">appUpdateManager</span><span class="o">;</span>
<span class="kd">private</span> <span class="nc">Task</span><span class="o">&lt;</span><span class="nc">AppUpdateInfo</span><span class="o">&gt;</span> <span class="n">appUpdateInfoTask</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">REQUEST_APP_UPDATE</span> <span class="o">=</span> <span class="mi">1234</span><span class="o">;</span>
</pre></td></tr></tbody></table></code></pre>
</figure>

<p>2.如果有更新的版本，會回傳一個AppUpdateInfo</p>

<p><img src="/assets/img/android/old/app_update7.png" alt="img" /></p>

<p>3.檢查完能否更新後，使用AppUpdateManager.startUpdateFlowForResult()啟動update，有二種啟動更新的方式，分別為AppUpdateType.FLEXIBLE與AppUpdateType.IMMEDIATE</p>

<figure class="highlight">
  <pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="kd">private</span> <span class="kt">void</span> <span class="nf">checkAppUpdate</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// Creates instance of the manager.</span>
  <span class="n">appUpdateManager</span> <span class="o">=</span> <span class="nc">AppUpdateManagerFactory</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">registerListener</span><span class="o">(</span><span class="n">installStateUpdatedListener</span><span class="o">);</span>
  <span class="c1">// Returns an intent object that you use to check for an update.</span>
  <span class="n">appUpdateInfoTask</span> <span class="o">=</span> <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">getAppUpdateInfo</span><span class="o">();</span>
  <span class="c1">// Checks that the platform will allow the specified type of update.</span>
  <span class="n">appUpdateInfoTask</span><span class="o">.</span><span class="na">addOnSuccessListener</span><span class="o">(</span><span class="n">appUpdateInfo</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">isAvailable</span> <span class="o">=</span> <span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">updateAvailability</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">avalible_version_code</span> <span class="o">=</span> <span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">availableVersionCode</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">updateAvailability</span><span class="o">()</span> <span class="o">==</span> <span class="nc">UpdateAvailability</span><span class="o">.</span><span class="na">UPDATE_AVAILABLE</span>
       <span class="o">&amp;&amp;</span> <span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">isUpdateTypeAllowed</span><span class="o">(</span><span class="no">IMMEDIATE</span><span class="o">))</span> <span class="o">{</span><span class="c1">//更新</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// Or 'AppUpdateType.FLEXIBLE' for flexible updates.</span>
        <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">startUpdateFlowForResult</span><span class="o">(</span>
          <span class="n">appUpdateInfo</span><span class="o">,</span> <span class="nc">AppUpdateType</span><span class="o">.</span><span class="na">IMMEDIATE</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="no">REQUEST_APP_UPDATE</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntentSender</span><span class="o">.</span><span class="na">SendIntentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span><span class="o">{</span>
      <span class="c1">//不需要更新</span>
      <span class="n">checkPopupAd</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">});</span>
 <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</figure>

<p><img src="/assets/img/android/old/app_update8.png" alt="img" /></p>

<p>Flexible: A user experience that provides background download of the update and at the same time no interruption on seamless use of the app. Flexible update is most useful when you integrated a new feature which is not core to your app.</p>

<p>Immediate: This is the flow where a blocking UI is prompted by google until the update is download and installed. Immediate update is most useful when there is bug in the production version.</p>

<p>However Android allows you to handle any of the two update types for every version of your app, so it’s up to you how to handle.</p>

<p>4.appUpdateInfo.updateAvailability()會回傳四種狀態</p>
<ul>
  <li>UNKNOWN</li>
  <li>UPDATE_AVAILABLE</li>
  <li>UPDATE_NOT_AVAILABLE</li>
  <li>DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS</li>
</ul>

<p>5.處理Fail或取消更新(在AppUpdateType.FLEXIBLE的情況下)</p>

<figure class="highlight">
  <pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="nc">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span><span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="no">REQUEST_APP_UPDATE</span><span class="o">){</span>
    <span class="k">if</span><span class="o">(</span><span class="n">resultCode</span> <span class="o">!=</span> <span class="no">RESULT_OK</span><span class="o">){</span>
      <span class="k">if</span><span class="o">(</span><span class="n">resultCode</span> <span class="o">==</span> <span class="no">RESULT_CANCELED</span><span class="o">){</span><span class="c1">//取消更新</span>
        <span class="n">checkPopupAd</span><span class="o">();</span>
      <span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">resultCode</span> <span class="o">==</span> <span class="nc">ActivityResult</span><span class="o">.</span><span class="na">RESULT_IN_APP_UPDATE_FAILED</span><span class="o">){</span><span class="c1">//更新失敗</span>
        <span class="n">checkAppUpdate</span><span class="o">();</span>
      <span class="o">}</span>

    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</figure>

<p>6.處理下載到一半以及更新到一半，使用者關掉或滑掉重啟。
若更新的狀態為UpdateAvailability.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS，則重新啟動AppUpdateManager.startUpdateFlowForResult()，但參數一定要代AppUpdateType.IMMEDIATE，代表先前使用者是按下要更新，讓更新的程式繼續下去。</p>

<figure class="highlight">
  <pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
  <span class="k">if</span> <span class="o">(</span><span class="nc">BuildConfig</span><span class="o">.</span><span class="na">IN_APP_UPDATE</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">appUpdateInfoTask</span><span class="o">.</span><span class="na">addOnSuccessListener</span><span class="o">(</span><span class="n">appUpdateInfo</span> <span class="o">-&gt;</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">updateAvailability</span><span class="o">()</span> <span class="o">==</span> <span class="nc">UpdateAvailability</span><span class="o">.</span><span class="na">DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS</span><span class="o">)</span> <span class="o">{</span><span class="c1">//之前沒更新到一半就關掉了</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">startUpdateFlowForResult</span><span class="o">(</span>
              <span class="n">appUpdateInfo</span><span class="o">,</span>
              <span class="no">IMMEDIATE</span><span class="o">,</span>
              <span class="k">this</span><span class="o">,</span>
              <span class="no">REQUEST_APP_UPDATE</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntentSender</span><span class="o">.</span><span class="na">SendIntentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">appUpdateInfo</span><span class="o">.</span><span class="na">installStatus</span><span class="o">()</span> <span class="o">==</span> <span class="nc">InstallStatus</span><span class="o">.</span><span class="na">DOWNLOADED</span><span class="o">)</span> <span class="o">{</span><span class="c1">//確認已經完成更新</span>
        <span class="n">popRestartAppDialog</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">});</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</figure>

<p><img src="/assets/img/android/old/app_update9.png" alt="img" /></p>

<p>7.關於Immediate Update
針對AppUpdateType.FLEXIBLE，若下載完檔案，跳出一個Dialog告知使用者更新完成後會重新啟動APP</p>

<figure class="highlight">
  <pre><code class="language-java" data-lang="java"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="nc">InstallStateUpdatedListener</span> <span class="n">installStateUpdatedListener</span> <span class="o">=</span> <span class="k">new</span>
    <span class="nc">InstallStateUpdatedListener</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStateUpdate</span><span class="o">(</span><span class="nc">InstallState</span> <span class="n">state</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">installStatus</span><span class="o">()</span> <span class="o">==</span> <span class="nc">InstallStatus</span><span class="o">.</span><span class="na">DOWNLOADED</span><span class="o">){</span>
          <span class="n">popRestartAppDialog</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">state</span><span class="o">.</span><span class="na">installStatus</span><span class="o">()</span> <span class="o">==</span> <span class="nc">InstallStatus</span><span class="o">.</span><span class="na">INSTALLED</span><span class="o">){</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">appUpdateManager</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">){</span>
            <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">unregisterListener</span><span class="o">(</span><span class="n">installStateUpdatedListener</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
          <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="no">TAG</span><span class="o">,</span> <span class="s">"InstallStateUpdatedListener: state: "</span> <span class="o">+</span> <span class="n">state</span><span class="o">.</span><span class="na">installStatus</span><span class="o">());</span>
        <span class="o">}</span>
      <span class="o">}</span>
<span class="o">};</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">popRestartAppDialog</span><span class="o">(){</span>
  <span class="nc">AlertDialog</span> <span class="n">alertDialog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">style</span><span class="o">.</span><span class="na">MyAlertDialogStyle</span><span class="o">)</span>
      <span class="o">.</span><span class="na">setCancelable</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
      <span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="s">"Installation is ready and confirmation to restart the app."</span><span class="o">)</span>
      <span class="o">.</span><span class="na">setPositiveButton</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">alert_yes</span><span class="o">,</span> <span class="o">(</span><span class="nc">DialogInterface</span> <span class="n">dialogInterface</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="n">appUpdateManager</span><span class="o">.</span><span class="na">completeUpdate</span><span class="o">();</span><span class="c1">//重新啟動app</span>
      <span class="o">}).</span><span class="na">create</span><span class="o">();</span>
  <span class="n">alertDialog</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre>
</figure>

<p>8.測試時，必須先去Google Play Store下載APK(Production)，然後修改Gradle的Version Code比Google Play Store還舊，再安裝至手機中。</p>

<p>In-app updates are available only to user accounts that own the app. So, make sure the account you’re using has downloaded your app from Google Play at least once before using the account to test in-app updates.
Make sure that the app that you are testing in-app updates with has the same application ID and is signed with the same signing key as the one available from Google Play.
Because Google Play can only update an app to a higher version code, make sure the app you are testing as a lower version code than the update version code.</p>

<p>參考資料：<br />
<a href="https://developer.android.com/guide/app-bundle/in-app-updates">https://developer.android.com/guide/app-bundle/in-app-updates</a></p>

<p><a href="https://medium.com/android-dev-hacks/in-app-updates-api-by-google-for-android-why-and-when-its-going-to-be-useful-how-to-properly-4578df9e9b3">https://medium.com/android-dev-hacks/in-app-updates-api-by-google-for-android-why-and-when-its-going-to-be-useful-how-to-properly-4578df9e9b3</a></p>

</section>
            </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div></div>
    </div>
</div>

<!-- introduce mathjax support -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [ ['$', '$'], ['\\(', '\\)'] ]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script
  type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>


<!-- introduce per-page mermaid support -->


<!-- introduce mathjax support -->
<script>
    function fixes_chrome_anchors() {
        let chrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        if (window.location.hash && chrome) {
            setTimeout(function () {
                var hash = window.location.hash;
                window.location.hash = "";
                window.location.hash = hash;
            }, 300);
        }
    }

    if (document.readyState === "loading") {
        // Loading hasn't finished yet
        document.addEventListener("DOMContentLoaded", fixes_chrome_anchors);
    } else {
        // `DOMContentLoaded` has already fired
        fixes_chrome_anchors();
    }
</script>

<!------上一頁與下一頁 start---------->
                    
                    
                    
                    
    
                    
                        
                        <a href="/pages/android/intellij_coroutine" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Intellij 安裝Coroutine">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    

                    
                        
                        <a href="/pages/android/old/google_sign_in" class="navigation navigation-next navigation-unique" aria-label="Next page: Google Sign-In">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    
                    <!------上一頁與下一頁 end---------->
                </div>
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "next": {
            "title": "black white list",
            "level": "1.2",
            "depth": 1,
            "path": "_pages/android/old/black_white_list.md",
            "ref": "_pages/android/old/black_white_list.md",
            "articles": []
        },
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "expandable-chapter-small2": {
                "articlesExpand": true,
            },
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},            "sharing": {
                "facebook": true,

                "google": false,

                "github": true,
              
                "github_link": "https://github.com",
              

                "telegram": false,
                "telegram_link": "https://t.me",

                "instapaper": false,

                "twitter": true,
              

                "vk": false,

                "weibo": false,

                "all": ["facebook", "google", "twitter", "weibo", "instapaper", "github", "telegram"]
            },
"theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            },
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "old",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "_pages/android/old/app_update.md",
        "mtime": "2023-05-17 00:00:00 +0800",
        "type": "markdown"
    },
    "gitbook": {
        "version": "",
        "time": "2025-04-10 13:56:50 +0800"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/assets/gitbook/gitbook.js"></script>
<script src="/assets/gitbook/theme.js"></script>

<script src="/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
<script src="/assets/gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
<script src="/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.js"></script>
<script src="/assets/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/assets/gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
<script src="/assets/gitbook/gitbook-plugin-search-pro/search.js"></script>
<script src="/assets/gitbook/gitbook-plugin-sharing/buttons.js"></script>
<script src="/assets/gitbook/gitbook-plugin-splitter/splitter.js"></script>

<!--
<script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script>
-->

<script src="/assets/gitbook/custom.js"></script>
<script src="/assets/gitbook/custom-local.js"></script>

<!-- 有extra_footer_js--><!-- 進入for--><script src="/assets/js/side_bar.js"></script></body>
</html>